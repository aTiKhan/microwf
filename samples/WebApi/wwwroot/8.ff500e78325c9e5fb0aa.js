(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6mDi":function(l,n,u){"use strict";u.r(n),u.d(n,"HolidayModuleNgFactory",function(){return P});var t=u("8Y7J"),e=u("uSmQ"),i=u("mrSG"),r=u("iInd"),o=u("7R//"),a=u("kmKP"),b=u("bH52"),s=function(){function l(l){this._http=l}return l.prototype.myWork=function(){return this._http.get("holiday/mywork")},l.prototype.get=function(l){return this._http.get("holiday/"+l)},l.prototype.create=function(){return this._http.post("holiday/new",null)},l.prototype.apply=function(l){return this._http.post("holiday/apply",l)},l.prototype.approve=function(l){return this._http.post("holiday/approve",l)},l.prototype.reject=function(l){return this._http.post("holiday/reject",l)},l}(),c=function(){function l(){this.key=l.KEY,this.type=e.e,this.title="Apply for holidays",this.editors=[{key:"from",type:e.a,label:"From",required:!0},{key:"to",type:e.a,label:"To",required:!0},{key:"message",type:e.g,label:"Message"}]}return l.KEY="apply_holidaydetailslot",l}(),p=function(){function l(){this.key=l.KEY,this.type=e.e,this.title="Approve Holiday",this.editors=[{key:"id",type:e.c,label:"Id",required:!0},{key:"message",type:e.g,label:"Message",required:!1}]}return l.KEY="approve_holidaydetailslot",l}(),f=function(){function l(l,n,u,t){this._route=l,this._router=n,this._user=u,this._service=t,this.key=c.KEY,this.canTrigger=!1}return l.prototype.ngOnInit=function(){var l=this;this._routeParams$=this._route.params.subscribe(function(n){n.id&&l.init(n.id)})},l.prototype.submitted=function(l){console.log(l)},l.prototype.triggerClicked=function(l){var n=this;"apply"===l&&this._service.apply(this.formDef.formValue).subscribe(function(l){n.checkResponse(l)}),"approve"===l&&this._service.approve(this.formDef.formValue).subscribe(function(l){n.checkResponse(l)}),"reject"===l&&this._service.reject(this.formDef.formValue).subscribe(function(l){n.checkResponse(l)})},l.prototype.init=function(l){"new"!==l?this.load(l.toString()):this.create()},l.prototype.load=function(l){var n=this;this._holiday$=this._service.get(l).subscribe(function(l){n.key=p.KEY,n.viewModel=l.viewModel,n.triggerInfo=l.triggerInfo,n.entity=l.entity})},l.prototype.create=function(){var l=this;this._holiday$=this._service.create().subscribe(function(n){l.viewModel=n.viewModel,l.triggerInfo=n.triggerInfo,l.entity=n.entity})},l.prototype.checkResponse=function(l){this._router.navigate(l.triggerInfo.succeeded&&l.viewModel.assignee!==this._user.userName?["dispatch",l.viewModel.assignee,"holiday"]:["holiday"])},Object(i.b)([o.a,Object(i.e)("design:paramtypes",[r.a,r.k,a.a,s])],l)}(),h=function(){function l(l,n){this._router=l,this._service=n,this.workspace="pane"}return l.prototype.ngOnInit=function(){this.myWork$=this._service.myWork()},l.prototype.create=function(){this._router.navigate(["./detail/new"])},l.prototype.reload=function(){this.ngOnInit()},Object(i.b)([o.a,Object(i.e)("design:paramtypes",[r.k,s])],l)}(),d=function(){return function(l){this._slotRegistry=l,this._slotRegistry.register(new c),this._slotRegistry.register(new p)}}(),y=u("pMnS"),m=u("SVse"),g=u("ciwL"),v=u("0Abp"),k=u("9T6n"),w=u("Kcpt"),_=t.sb({encapsulation:2,styles:[],data:{}});function I(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,22,"div",[["class","list__item"]],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,21,"div",[["routerLinkActive","active"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Ib(l,2).onClick()&&e),e},null,null)),t.tb(2,540672,[[4,4]],0,r.l,[r.k,r.a,[8,null],t.D,t.l],{routerLink:[0,"routerLink"]},null),t.Jb(3,2),t.tb(4,1720320,null,2,r.m,[r.k,t.l,t.D,t.h,[2,r.l],[2,r.n]],{routerLinkActive:[0,"routerLinkActive"]},null),t.Ob(603979776,4,{links:1}),t.Ob(603979776,5,{linksWithHrefs:1}),(l()(),t.ub(7,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.ub(8,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Requester:"])),(l()(),t.ub(10,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Sb(11,null,[" ",""])),(l()(),t.ub(12,0,null,null,10,"div",[["class","list__itemDetail"]],null,null,null,null,null)),(l()(),t.ub(13,0,null,null,9,"p",[],null,null,null,null,null)),(l()(),t.ub(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["From:"])),(l()(),t.Sb(16,null,[" "," "])),t.Mb(17,1),(l()(),t.ub(18,0,null,null,4,"span",[["class","list_item--right"]],null,null,null,null,null)),(l()(),t.ub(19,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["To:"])),(l()(),t.Sb(21,null,[" ",""])),t.Mb(22,1)],function(l,n){var u=l(n,3,0,"detail",null==n.context.$implicit?null:n.context.$implicit.id);l(n,2,0,u),l(n,4,0,"active")},function(l,n){l(n,11,0,null==n.context.$implicit?null:n.context.$implicit.requester);var u=t.Tb(n,16,0,l(n,17,0,t.Ib(n.parent,0),null==n.context.$implicit?null:n.context.$implicit.from));l(n,16,0,u);var e=t.Tb(n,21,0,l(n,22,0,t.Ib(n.parent,0),null==n.context.$implicit?null:n.context.$implicit.to));l(n,21,0,e)})}function S(l){return t.Vb(0,[t.Kb(0,m.e,[t.u]),(l()(),t.ub(1,0,null,null,21,"div",[["class","pane__left"]],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,20,"tw-list",[],null,null,null,g.d,g.b)),t.tb(3,1163264,[["list",4]],3,v.c,[],{rows:[0,"rows"]},null),t.Ob(603979776,1,{header:0}),t.Ob(603979776,2,{footer:0}),t.Ob(603979776,3,{templates:1}),t.Kb(131072,m.b,[t.h]),(l()(),t.ub(8,0,null,0,12,"tw-header",[],[[8,"className",0]],null,null,g.c,g.a)),t.tb(9,49152,[[1,4]],0,v.b,[],null,null),(l()(),t.ub(10,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Holidays"])),(l()(),t.ub(12,0,null,0,8,"div",[["class","button__bar"]],null,null,null,null,null)),(l()(),t.ub(13,0,null,null,4,"a",[["class","button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Ib(l,14).onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)&&e),e},null,null)),t.tb(14,671744,null,0,r.n,[r.k,r.a,m.i],{routerLink:[0,"routerLink"]},null),t.Jb(15,1),(l()(),t.ub(16,0,null,null,1,"tw-icon",[["name","plus"]],null,null,null,k.b,k.a)),t.tb(17,49152,null,0,w.a,[],{name:[0,"name"]},null),(l()(),t.ub(18,0,null,null,2,"button",[["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.reload()&&t),t},null,null)),(l()(),t.ub(19,0,null,null,1,"tw-icon",[["name","refresh"]],null,null,null,k.b,k.a)),t.tb(20,49152,null,0,w.a,[],{name:[0,"name"]},null),(l()(),t.db(0,null,null,1,null,I)),t.tb(22,16384,[[3,4]],0,v.d,[t.L],{name:[0,"name"]},null),(l()(),t.ub(23,0,null,null,2,"div",[["class","pane__main"]],null,null,null,null,null)),(l()(),t.ub(24,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.tb(25,212992,null,0,r.p,[r.b,t.O,t.j,[8,null],t.h],null,null)],function(l,n){var u=n.component;l(n,3,0,t.Tb(n,3,0,t.Ib(n,7).transform(u.myWork$)));var e=l(n,15,0,"detail/new");l(n,14,0,e),l(n,17,0,"plus"),l(n,20,0,"refresh"),l(n,22,0,"holiday-item"),l(n,25,0)},function(l,n){l(n,8,0,t.Ib(n,9).header),l(n,13,0,t.Ib(n,14).target,t.Ib(n,14).href)})}function M(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,2,"tw-holiday-dashboard",[],[[8,"className",0]],null,null,S,_)),t.Nb(512,null,s,s,[b.a]),t.tb(2,114688,null,0,h,[r.k,s],null,null)],function(l,n){l(n,2,0)},function(l,n){l(n,0,0,t.Ib(n,2).workspace)})}var G=t.qb("tw-holiday-dashboard",h,M,{},{},[]),O=u("+bzN"),K=u("wuMS"),j=u("fT1S"),x=u("k0N/"),L=u("s7LF"),$=u("MtBY"),V=u("4D5B"),T=t.sb({encapsulation:2,styles:[],data:{}});function q(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,1,"tw-trigger-info",[],null,[[null,"trigger"]],function(l,n,u){var t=!0;return"trigger"===n&&(t=!1!==l.component.triggerClicked(u)&&t),t},O.b,O.a)),t.tb(1,49152,null,0,K.a,[],{triggerInfo:[0,"triggerInfo"],canTrigger:[1,"canTrigger"]},{trigger:"trigger"})],function(l,n){l(n,1,0,n.component.triggerInfo,t.Ib(n.parent,8).formIsValid)},null)}function D(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(2,null,["",""])),(l()(),t.ub(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(4,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.author),l(n,4,0,n.context.$implicit.message)})}function N(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,12,"div",[["class","table-responsive-md"]],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Messages"])),(l()(),t.ub(3,0,null,null,9,"table",[],null,null,null,null,null)),(l()(),t.ub(4,0,null,null,5,"thead",[],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.ub(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Author"])),(l()(),t.ub(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Message"])),(l()(),t.ub(10,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,D)),t.tb(12,278528,null,0,m.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,12,0,n.component.entity.messages)},null)}function R(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,11,"p",[],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Sb(3,null,["",""])),(l()(),t.Sb(-1,null,[" applied for holiday between "])),(l()(),t.ub(5,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t.Sb(6,null,["",""])),t.Mb(7,1),(l()(),t.Sb(-1,null,[" and "])),(l()(),t.ub(9,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t.Sb(10,null,["",""])),t.Mb(11,1),(l()(),t.Sb(-1,null,[". "])),(l()(),t.db(16777216,null,null,1,null,N)),t.tb(14,16384,null,0,m.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,14,0,u.entity.messages&&u.entity.messages.length>0)},function(l,n){var u=n.component;l(n,3,0,u.entity.requester);var e=t.Tb(n,6,0,l(n,7,0,t.Ib(n.parent,0),u.entity.from));l(n,6,0,e);var i=t.Tb(n,10,0,l(n,11,0,t.Ib(n.parent,0),u.entity.to));l(n,10,0,i)})}function Y(l){return t.Vb(0,[t.Kb(0,m.e,[t.u]),t.Ob(671088640,1,{formDef:0}),(l()(),t.ub(2,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,q)),t.tb(4,16384,null,0,m.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(5,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.ub(6,0,null,null,2,"tw-formdef",[],[[8,"className",0]],[[null,"submitted"]],function(l,n,u){var t=!0;return"submitted"===n&&(t=!1!==l.component.submitted(u)&&t),t},j.b,j.a)),t.Nb(512,null,x.a,x.a,[L.e,$.a]),t.tb(8,114688,[[1,4],["formDef",4]],0,V.a,[x.a],{key:[0,"key"],viewModel:[1,"viewModel"]},{submitted:"submitted"}),(l()(),t.db(16777216,null,null,1,null,R)),t.tb(10,16384,null,0,m.l,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,4,0,t.Ib(n,8)),l(n,8,0,u.key,u.viewModel),l(n,10,0,u.entity&&u.entity.id)},function(l,n){l(n,6,0,t.Ib(n,8).class)})}function A(l){return t.Vb(0,[(l()(),t.ub(0,0,null,null,2,"tw-holiday",[],null,null,null,Y,T)),t.Nb(512,null,s,s,[b.a]),t.tb(2,114688,null,0,f,[r.a,r.k,a.a,s],null,null)],function(l,n){l(n,2,0)},null)}var F=t.qb("tw-holiday",f,A,{},{},[]),E=u("lQXL"),W=u("BYjs"),H=u("Moxv"),J=u("RoQU"),C=u("Qaql"),Q=u("8xKt"),B=u("j+9/"),P=t.rb(d,[],function(l){return t.Fb([t.Gb(512,t.j,t.W,[[8,[y.a,G,F]],[3,t.j],t.x]),t.Gb(4608,m.n,m.m,[t.u]),t.Gb(4608,L.e,L.e,[]),t.Gb(4608,L.x,L.x,[]),t.Gb(4608,s,s,[b.a]),t.Gb(1073742336,m.c,m.c,[]),t.Gb(1073742336,r.o,r.o,[[2,r.t],[2,r.k]]),t.Gb(1073742336,L.w,L.w,[]),t.Gb(1073742336,L.t,L.t,[]),t.Gb(1073742336,L.j,L.j,[]),t.Gb(1073742336,E.a,E.a,[]),t.Gb(512,W.b,W.b,[]),t.Gb(1073742336,H.a,H.a,[W.b]),t.Gb(1073742336,J.a,J.a,[]),t.Gb(1073742336,C.a,C.a,[]),t.Gb(1073742336,Q.a,Q.a,[]),t.Gb(1073742336,B.a,B.a,[]),t.Gb(512,$.a,$.a,[]),t.Gb(1073742336,d,d,[$.a]),t.Gb(1024,r.i,function(){return[[{path:"",component:h,children:[{path:"detail/:id",component:f},{path:"detail/new",component:f}]}]]},[])])})}}]);